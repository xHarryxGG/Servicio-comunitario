{% extends "./index.html" %}

{% block title %} Edición de Prestamos {% endblock %}

{% block body %}

<div class="edicion">
    <h2>Edición de Prestamo</h2>
    <div class="card">
        <div class="card-body">
            <form action="/editarPrestamo/" method="POST">{% csrf_token %}
                <div class="form-group">
                    <input type="text" id="txtCodigo" name="txtCodigo" class="form-control"
                        placeholder="Código..." maxlength="20" required readonly value="{{Prestamo.codigo}}">
                </div>
                <div class="form-group">
                    <select type="text" id="txtCodigolibro" name="txtCodigolibro" class="form-control form-select codigolibro"
                    placeholder="Codigolibro..." required value="{{Prestamo.codigolibro}}">
                    <option value="" disabled selected class="text-muted">Codigo de libro...</option>
                    {% for i in libros %}
                    <option value="{{i.codigolibro}}" data-autor="{{i.autor}}" data-titulo="{{i.titulo}}">{{i.codigolibro}}: "{{i.titulo}}"</option>
                    {% endfor %}
                </select>
                </div>
                <div class="form-group">
                    <input type="text" id="txtAutor" name="txtAutor" class="form-control txtAutorPres"
                        placeholder="Autor..." maxlength="40" required value="{{Prestamo.autor}}">
                </div>
                <div class="form-group">
                    <input type="text" id="txtTitulo" name="txtTitulo" class="form-control txtTituloPres"
                        placeholder="Titulo..." maxlength="40" required value="{{Prestamo.titulo}}">
                </div>
                <div class="form-group">
                    <select type="text" id="txtTipoUsuario" name="txtTipoUsuario" class="form-control form-select"
                        placeholder="Titulo..." required value="{{Prestamo.tipoUsuario}}">
                        <option value="{{Prestamo.tipoUsuario}}" selected class="text-muted">{{Prestamo.tipoUsuario}}</option>
                        <option value="Estudiante">Estudiante</option>
                        <option value="Académico">Académico</option>
                        <option value="Administrativo">Administrativo</option>
                        <option value="Externo">Externo</option>
                    </select>
                </div>
                <div class="form-group">
                    <select type="text" id="txtTipoPrestamo" name="txtTipoPrestamo" class="form-control form-select"
                        placeholder="Titulo..." required value="{{Prestamo.tipoPrestamo}}">
                        <option value="{{Prestamo.tipoPrestamo}}" selected class="text-muted">{{Prestamo.tipoPrestamo}}</option>
                        <option value="Circulante">Circulante</option>
                        <option value="Interno" id="interno">Interno</option>
                    </select>
                </div>
                <div class="form-group">
                    <select type="text" id="txtCedula" class="form-control form-select txtCedulaPres cedulaEstudiantes"
                        placeholder="Cédula..." value="{{Prestamo.cedula}}">
                        <option value="" disabled selected class="text-muted">Cédula...</option>
                        {% for i in estudiantes%}
                        <option value="{{i.cedula}}" data-nombre="{{ i.nombre }}" data-apellido="{{ i.apellido }}" data-año="{{i.año}}" data-seccion="{{i.seccion}}">{{i.cedula}} : "{{i.nombre}}"</option>
                        {% endfor %}
                    </select>
                    <select type="text" id="txtCedula" class="form-control form-select txtCedulaPres cedulaAcademicos"
                        placeholder="Cédula..." value="{{Prestamo.cedula}}">
                        <option value="" disabled selected class="text-muted">Cédula...</option>
                        {% for i in academicos%}
                        <option value="{{i.cedula}}" data-nombre="{{ i.nombre }}" data-apellido="{{ i.apellido }}" data-año="{{i.año}}" data-seccion="{{i.seccion}}">{{i.cedula}}: "{{i.nombre}}"</option>
                        {% endfor %}
                    </select>
                    <select type="text" id="txtCedula"class="form-control form-select txtCedulaPres cedulaAdministrativos"
                        placeholder="Cédula..." value="{{Prestamo.cedula}}">
                        <option value="" disabled selected class="text-muted">Cédula...</option>
                        {% for i in administrativos%}
                        <option value="{{i.cedula}}" data-nombre="{{ i.nombre }}" data-apellido="{{ i.apellido }}" data-año="{{i.año}}" data-seccion="{{i.seccion}}">{{i.cedula}}: "{{i.nombre}}"</option>
                        {% endfor %}
                    </select>
                    <input type="number" id="txtCedula" class="form-control txtCedulaPres cedulaExternos"
                        placeholder="Cédula..." minlength="8" maxlength="8">
                </div>
                <div class="form-group">
                    <input type="text" id="txtNombre" name="txtNombre" class="form-control" placeholder="Nombre..."
                        maxlength="20" required value="{{Prestamo.nombre}}">
                </div>
                <div class="form-group">
                    <input type="text" id="txtApellido" name="txtApellido" class="form-control"
                        placeholder="Apellido..." maxlength="20" required value="{{Prestamo.apellido}}">
                </div>
                <div class="form-group">
                    <input type="text" id="txtBiblio" name="txtBiblio" class="form-control"
                        placeholder="Bibliotecari@..." maxlength="40" required value="{{Prestamo.bibliotecaria}}">
                </div>
                <div class="form-group">
                    <input type="date" id="txtFechaIni" name="txtFechaIni" class="form-control"
                        placeholder="Fecha expedición..." required value="{{Prestamo.fechaInicial}}">
                </div>
                <div class="form-group">
                    <input type="date" id="txtFechaFin" name="txtFechaFin" class="form-control"
                        placeholder="Fecha entrega..." required value="{{Prestamo.fechaFinal}}">
                </div>
                <div class="form-group">
                    <textarea name="txtObservaciones" class="form-control" id="txtObservaciones" cols="30" rows="5"
                        placeholder="Observaciones..." style="resize: none;" value="{{Prestamo.observaciones}}">
                    </textarea>
                </div>

                <div class="form-group">
                    <button type="submit">
                        Guardar
                        <span class="overlay"></span>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>


{% endblock %}